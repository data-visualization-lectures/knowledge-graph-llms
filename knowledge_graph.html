
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Knowledge Graph</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.28.1/cytoscape.min.js"></script>
    <script src="https://unpkg.com/layout-base/layout-base.js"></script>
    <script src="https://unpkg.com/cose-base/cose-base.js"></script>
    <script src="https://unpkg.com/cytoscape-fcose/cytoscape-fcose.js"></script>
    <style>
        body {
            font-family: sans-serif;
            margin: 0;
            padding: 0;
            background-color: #222222;
            color: #ffffff;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
        }
        #cy {
            width: 100%;
            height: 100%;
            display: block;
        }
    </style>
</head>
<body>
    <div id="cy"></div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var elements = [{"data": {"id": "先生", "label": "先生", "type": "Person"}, "position": {"x": 703.2359428951446, "y": 348.38917220569454}}, {"data": {"id": "カムパネルラ", "label": "カムパネルラ", "type": "Person"}, "position": {"x": 491.1766947058312, "y": 495.45177901721047}}, {"data": {"id": "ジョバンニ", "label": "ジョバンニ", "type": "Person"}, "position": {"x": 738.3055291324217, "y": 235.6444133036268}}, {"data": {"id": "ザネリ", "label": "ザネリ", "type": "Person"}, "position": {"x": 483.8981777932046, "y": 301.72910115410684}}, {"data": {"id": "カムパネルラのお父さん", "label": "カムパネルラのお父さん", "type": "Person"}, "position": {"x": 297.03031188803334, "y": 127.42817796520053}}, {"data": {"id": "博士", "label": "博士", "type": "Person"}, "position": {"x": 688.9505329486265, "y": 208.73778659407768}}, {"data": {"id": "教室", "label": "教室", "type": "Place"}, "position": {"x": 312.099634792745, "y": 389.2049801856839}}, {"data": {"id": "雑誌", "label": "雑誌", "type": "Object"}, "position": {"x": 636.1121286810293, "y": 160.64212696520505}}, {"data": {"id": "書斎", "label": "書斎", "type": "Place"}, "position": {"x": 684.9962523144324, "y": 199.62308482453284}}, {"data": {"id": "本", "label": "本", "type": "Object"}, "position": {"x": 358.96144350832253, "y": 582.7840907278792}}, {"data": {"id": "天の川", "label": "天の川", "type": "Object"}, "position": {"x": 381.46259472708573, "y": 489.16734137858236}}, {"data": {"id": "星", "label": "星", "type": "Object"}, "position": {"x": 158.37741177523617, "y": 540.147261923634}}, {"data": {"id": "太陽", "label": "太陽", "type": "Object"}, "position": {"x": 385.51617830486816, "y": 508.514362287104}}, {"data": {"id": "地球", "label": "地球", "type": "Object"}, "position": {"x": 533.0207968144391, "y": 304.1108312384802}}, {"data": {"id": "銀河", "label": "銀河", "type": "Object"}, "position": {"x": 732.5882856310429, "y": 167.79862384230802}}, {"data": {"source": "先生", "target": "教室", "label": "教えている_", "weight": 10, "edge_color": "#FF6B6B"}}, {"data": {"source": "カムパネルラ", "target": "ジョバンニ", "label": "友人である_", "weight": 7, "edge_color": "#4ECDC4"}}, {"data": {"source": "ジョバンニ", "target": "カムパネルラ", "label": "友人である_", "weight": 7, "edge_color": "#4ECDC4"}}, {"data": {"source": "カムパネルラ", "target": "カムパネルラのお父さん", "label": "親子である_", "weight": 10, "edge_color": "#45B7D1"}}, {"data": {"source": "カムパネルラのお父さん", "target": "博士", "label": "同一人物である_", "weight": 10, "edge_color": "#FFA07A"}}, {"data": {"source": "カムパネルラ", "target": "書斎", "label": "訪れた_", "weight": 5, "edge_color": "#98D8C8"}}, {"data": {"source": "カムパネルラ", "target": "本", "label": "読んだ_", "weight": 6, "edge_color": "#F7DC6F"}}, {"data": {"source": "ジョバンニ", "target": "雑誌", "label": "読んだ_", "weight": 6, "edge_color": "#F7DC6F"}}, {"data": {"source": "カムパネルラ", "target": "雑誌", "label": "読んだ_", "weight": 6, "edge_color": "#F7DC6F"}}, {"data": {"source": "天の川", "target": "星", "label": "含んでいる_", "weight": 8, "edge_color": "#BB8FCE"}}, {"data": {"source": "銀河", "target": "星", "label": "含んでいる_", "weight": 8, "edge_color": "#BB8FCE"}}, {"data": {"source": "太陽", "target": "地球", "label": "近くにある_", "weight": 7, "edge_color": "#F1948A"}}];
            
            var cy = cytoscape({
                container: document.getElementById('cy'),
                elements: elements,
                style: [
                    {
                        selector: 'node',
                        style: {
                            'content': 'data(label)',
                            'font-size': '12px',
                            'text-valign': 'center',
                            'text-halign': 'center',
                            'background-color': '#555',
                            'text-outline-color': '#555',
                            'text-outline-width': '2px',
                            'color': '#fff',
                            'overlay-padding': '6px',
                            'z-index': '10',
                            'width': 'label',
                            'height': 'label',
                            'padding': '12px',
                            'shape': 'round-rectangle'
                        }
                    },
                    {
                        selector: 'edge',
                        style: {
                            'curve-style': 'bezier',
                            'opacity': 0.8,
                            'line-color': 'data(edge_color)',
                            'width': 'mapData(weight, 1, 10, 1, 8)',
                            'target-arrow-shape': 'triangle',
                            'target-arrow-color': 'data(edge_color)',
                            'label': 'data(label)',
                            'color': '#fff',
                            'font-size': '10px',
                            'text-rotation': '0',
                            'text-background-color': '#222222',
                            'text-background-opacity': 1,
                            'text-background-padding': '2px',
                            'text-background-shape': 'round-rectangle'
                        }
                    },
                    {
                        selector: ':selected',
                        style: {
                            'border-width': '6px',
                            'border-color': '#AAD8FF',
                            'border-opacity': '0.5',
                            'background-color': '#77828C',
                            'text-outline-color': '#77828C',
                            'line-color': '#AAD8FF',
                            'target-arrow-color': '#AAD8FF',
                            'source-arrow-color': '#AAD8FF'
                        }
                    }
                ],
                layout: {
                    name: 'fcose',
                    quality: "default",
                    randomize: true,
                    animate: true,
                    animationDuration: 1000,
                    animationEasing: 'ease-in-out',
                    fit: true,
                    padding: 30,
                    nodeDimensionsIncludeLabels: true,
                    uniformNodeDimensions: false,
                    packComponents: true,
                    step: "all",
                    initialEnergyOnIncremental: 0.3,
                    samplingType: true,
                    sampleSize: 25,
                    nodeSeparation: 75,
                    piTol: 0.0000001,
                    nodeRepulsion: 4500,
                    idealEdgeLength: 50,
                    edgeElasticity: 0.45,
                    nestingFactor: 0.1,
                    gravity: 0.25,
                    numIter: 2500,
                    tile: true,
                    tilingPaddingVertical: 10,
                    tilingPaddingHorizontal: 10,
                    gravityRangeCompound: 1.5,
                    gravityCompound: 1.0,
                    gravityRange: 3.8,
                    initialEnergyOnIncremental: 0.3
                }
            });
        });
    </script>
</body>
</html>
    